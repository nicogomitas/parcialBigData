{"filter":false,"title":"appParcial.py","tooltip":"/Parcial/appParcial.py","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":42,"column":0},"action":"insert","lines":["import requests","import boto3","from datetime import datetime","","# Crear un cliente de S3","s3_client = boto3.client('s3')","","def f(event, context):","    # Nombre del bucket de S3","    bucket_name = \"zappa-ktsbfja1q\"  # Cambia por el nombre de tu bucket","    base_path = \"headlines/raw\"","","    # URLs de las páginas a descargar","    urls = {","        \"el_tiempo\": \"https://www.eltiempo.com/\",","        \"el_espectador\": \"https://www.elespectador.com/\",","        \"publimetro\": \"https://www.publimetro.co/\"","    }","","    # Obtener la fecha actual en formato yyyy-mm-dd","    today = datetime.utcnow().strftime(\"%Y-%m-%d\")","","    for source, url in urls.items():","        try:","            # Descargar el contenido de la página","            response = requests.get(url)","            response.raise_for_status()  # Lanzar error si falla la solicitud","            content = response.text","","            # Crear el nombre del archivo en S3","            filename = f\"{base_path}/{source}-contenido-{today}.html\"","","            # Subir el contenido a S3","            s3_client.put_object(","                Bucket=bucket_name,","                Key=filename,","                Body=content,","                ContentType=\"text/html\"","            )","            print(f\"Contenido de {source} subido correctamente a {filename}\")","        except Exception as e:","            print(f\"Error al procesar {source}: {e}\")",""],"id":1}]]},"ace":{"folds":[],"scrolltop":267,"scrollleft":0,"selection":{"start":{"row":42,"column":0},"end":{"row":42,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":19,"state":"start","mode":"ace/mode/python"}},"timestamp":1732134355738,"hash":"6da186e8455c93a4eba4fd5198fd9d0cea454f33"}